!function(c){"use strict";var b,f,p,a,l,y,o,u,m,w,t,e,n,i,s,d;c.wbui||0||(b=document,f="getElementsByClassName",p=function(e){return b.querySelectorAll(e)},a="OK",l="Cancel",y=["dialog","toast","loading","iframe"],o={type:0,mask:!0,maskClose:!0,closebtn:!0,whenBtnClickClose:!0,fixed:!0,anim:"def"},u={extend:function(e,t){var n="object"==typeof t?JSON.parse(JSON.stringify(t)):JSON.parse(JSON.stringify(o));for(var i in e)n[i]=e[i];return n},timer:{},end:{},touch:function(e,t){e.addEventListener("click",function(e){t.call(this,e)},!1)}},m=0,w=["wbui"],(t=function(e){this.config=u.extend(e),this.view()}).prototype.view=function(){var e=this,n=e.config,t=b.createElement("div"),i="object"==typeof n.content,o="string"==typeof n.type?n.type:w[0]+"-"+y[n.type||0];e.id=t.id=w[0]+m,t.setAttribute("class",w[0]+" "+o),t.setAttribute("index",m);var s,c,a,l=(s="object"==typeof n.title,n.title?'<h3 class="wbui-title'+(s?" "+n.title[1]:"")+'">'+(s?n.title[0]:n.title)+"</h3>":""),u=(c="object"==typeof n.closebtn,n.closebtn?'<a class="wbui-close'+(c?" "+n.closetype[1]:"")+'"><i></i></a>':""),d=function(){"string"==typeof n.btn&&(n.btn=[n.btn]);var e,t=(n.btn||[]).length;return 0!==t&&n.btn?(e='<span yes type="1">'+n.btn[0]+"</span>",2===t&&(e='<span no type="0">'+n.btn[1]+"</span>"+e),'<div class="wbui-btn">'+e+"</div>"):""}();n.fixed||(n.top=n.hasOwnProperty("top")?n.top:100,n.style=n.style||"",n.style+=" top:"+(b.body.scrollTop+n.top)+"px"),2===n.type&&(n.content='<i></i><i class="wbui-load"></i><i></i><p>'+(n.content||"")+"</p>"),3===n.type&&(n.content=i?n.content:[n.content||"","auto"],n.content='<iframe scrolling="'+(n.content[1]||"auto")+'" allowtransparency="true" id="'+y[3]+m+'" name="'+y[3]+m+'" onload="this.className=\'\';" class="wbui-load" frameborder="0" src="'+n.content[0]+'"></iframe>'),n.skin&&(n.anim="fade"),"msg"===n.skin&&(n.mask=n.closebtn=!1,n.time=2),t.innerHTML=(n.mask?"<div "+("string"==typeof n.mask?'style="'+n.mask+'"':"")+' class="wbui-mask"></div>':"")+'<div class="wbui-main" '+(n.fixed?"":'style="position:static;"')+'><div class="wbui-section"><div class="wbui-child '+(n.skin?"wbui-"+n.skin+" ":"")+(n.className?n.className:"")+" "+(n.anim?"wbui-anim-"+n.anim:"")+'" '+(n.style?'style="'+n.style+'"':"")+">"+l+'<div class="wbui-cont">'+n.content+"</div>"+d+(n.closebtn?u:"")+"</div></div></div>",n.type&&2!==n.type||1<=(a=b[f](w[0]+y[n.type])).length&&wbui.close(a[0].getAttribute("index")),document.body.appendChild(t);var r=e.elem=p("#"+e.id)[0];n.success&&n.success(r),e.index=m++,e.action(n,r)},t.prototype.action=function(e,t){var n=this;e.time&&(u.timer[n.index]=setTimeout(function(){wbui.close(n.index)},1e3*e.time));function i(){0==this.getAttribute("type")?(e.no&&e.no(),wbui.close(n.index)):(e.yes&&e.yes(n.index),e.whenBtnClickClose&&wbui.close(n.index))}var o,s;if(e.btn)for(var c=t[f]("wbui-btn")[0].children,a=c.length,l=0;l<a;l++)u.touch(c[l],i);e.mask&&e.maskClose&&(o=t[f]("wbui-mask")[0],u.touch(o,function(){wbui.close(n.index,e.end)})),e.closebtn&&(s=t[f]("wbui-close")[0],u.touch(s,function(){wbui.close(n.index,e.end)})),e.end&&(u.end[n.index]=e.end)},c.wbui={v:"1.0.5",index:m,open:function(e){return new t(e||{}).index},alert:function(e,t){var n="function"==typeof t,i=u.extend({content:e,btn:a}),i=n?u.extend({yes:t},i):u.extend(t,i);return c.wbui.open(i)},confirm:function(e,t,n,i){var o="function"==typeof t,s=u.extend({content:e,btn:[a,l]}),s=o?u.extend({yes:t,no:n},s):u.extend(t,s);return c.wbui.open(s)},toast:function(e,t){var n="function"==typeof t,i=u.extend({type:1,content:e,mask:0,closebtn:0,time:2}),i=n?u.extend({end:t},i):u.extend(t,i);return c.wbui.open(i)},loading:function(e){var t="function"==typeof e,n=u.extend({type:2,content:0,mask:0,maskClose:0,closebtn:0}),n=t?u.extend({end:e},n):u.extend(e,n);return c.wbui.open(n)},iframe:function(e,t,n,i){var o="function"==typeof t,s=u.extend({type:3,content:e,mask:0}),s=o?u.extend({yes:t,no:n},s):u.extend(t,s);return c.wbui.open(s)},close:function(e){var t=p("#"+w[0]+e)[0];t&&(t.innerHTML="",b.body.removeChild(t),clearTimeout(u.timer[e]),delete u.timer[e],"function"==typeof u.end[e]&&u.end[e](),delete u.end[e])},closeAll:function(){for(var e=b[f](w[0]),t=0,n=e.length;t<n;t++)wbui.close(0|e[0].getAttribute("index"))}},"function"==typeof define?define(function(){return wbui}):(n=document.scripts,i=n[n.length-1],s=i.src,d=s.substring(0,s.lastIndexOf("/")+1),i.getAttribute("assets")&&document.head.appendChild(((e=b.createElement("link")).href=d+"assets/wbui.css",e.type="text/css",e.rel="styleSheet",e.id="wbui_css",e))))}(window);